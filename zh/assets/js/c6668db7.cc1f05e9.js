(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{89:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return o})),n.d(t,"default",(function(){return p}));var a=n(3),b=n(7),r=(n(0),n(96)),i={id:"javascript-api",title:"Javascript API",sidebar_label:"API",slug:"/client-integration/javascript"},c={unversionedId:"javascript-api",id:"javascript-api",isDocsHomePage:!1,title:"Javascript API",description:"Getting Started",source:"@site/docs/javascript-api.md",slug:"/client-integration/javascript",permalink:"/zh/client-integration/javascript",editUrl:"https://github.com/mithraiclabs/psyoptions-docs/tree/master/docs/javascript-api.md",version:"current",sidebar_label:"API",sidebar:"someSidebar",previous:{title:"\u5ba2\u6236\u7aef\u6574\u5408",permalink:"/zh/client-integration/overview"},next:{title:"Rust \u5feb\u901f\u4e0a\u624b",permalink:"/zh/client-integration/rust/quick-start"}},o=[{value:"Getting Started",id:"getting-started",children:[]},{value:"Functions",id:"functions",children:[]},{value:"Functions",id:"functions-1",children:[{value:"initializeAccountsForMarket",id:"initializeaccountsformarket",children:[]},{value:"initializeMarketInstruction",id:"initializemarketinstruction",children:[]},{value:"mintCoveredCallInstruction",id:"mintcoveredcallinstruction",children:[]},{value:"exerciseCoveredCallInstruction",id:"exercisecoveredcallinstruction",children:[]},{value:"closePositionInstruction",id:"closepositioninstruction",children:[]},{value:"exchangeWriterTokenForQuoteInstruction",id:"exchangewritertokenforquoteinstruction",children:[]},{value:"closePostExpirationCoveredCallInstruction",id:"closepostexpirationcoveredcallinstruction",children:[]}]}],l={toc:o};function p(e){var t=e.components,n=Object(b.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h3",{id:"getting-started"},"Getting Started"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-sh"},"yarn add @mithraic-labs/psyoptions\n")),Object(r.b)("p",null,"More docs will be coming soon on how to use the following instructions."),Object(r.b)("h3",{id:"functions"},"Functions"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"#initializeaccountsformarket"},"initializeAccountsForMarket")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"#initializemarketinstruction"},"initializeMarketInstruction")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"#mintcoveredcallinstruction"},"mintCoveredCallInstruction")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"#exercisecoveredcallinstruction"},"exerciseCoveredCallInstruction")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"#exchangewritertokenforquoteinstruction"},"exchangeWriterTokenForQuoteInstruction")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"#closepositioninstruction"},"closePositionInstruction")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"#closepostexpirationcoveredcallinstruction"},"closePostExpirationCoveredCallInstruction"))),Object(r.b)("h2",{id:"functions-1"},"Functions"),Object(r.b)("hr",null),Object(r.b)("h3",{id:"initializeaccountsformarket"},"initializeAccountsForMarket"),Object(r.b)("p",null,"\u25b8 ",Object(r.b)("strong",{parentName:"p"},"initializeAccountsForMarket"),"(",Object(r.b)("inlineCode",{parentName:"p"},"object"),": { ",Object(r.b)("inlineCode",{parentName:"p"},"connection"),": ",Object(r.b)("em",{parentName:"p"},"Connection")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"payer"),": ",Object(r.b)("em",{parentName:"p"},"Account")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"programId"),": ",Object(r.b)("em",{parentName:"p"},"string")," ","|"," ",Object(r.b)("em",{parentName:"p"},"PublicKey")," }): ",Object(r.b)("em",{parentName:"p"},"Promise"),"<{ ",Object(r.b)("inlineCode",{parentName:"p"},"optionMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"quoteAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"signers"),": ",Object(r.b)("em",{parentName:"p"},"Account"),"[] ; ",Object(r.b)("inlineCode",{parentName:"p"},"transaction"),": ",Object(r.b)("em",{parentName:"p"},"Transaction")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," }",">"),Object(r.b)("p",null,"Generate and initialize the Accounts to be used for the new option market."),Object(r.b)("h4",{id:"parameters"},"Parameters:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:"left"},"Name"),Object(r.b)("th",{parentName:"tr",align:"left"},"Type"),Object(r.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},"-")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.connection")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"Connection")),Object(r.b)("td",{parentName:"tr",align:"left"})),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.payer")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"Account")),Object(r.b)("td",{parentName:"tr",align:"left"},"Account to pay for the creation of these new accounts")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.programId")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"string")," ","|"," ",Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"the public key for the PsyOptions program")))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Returns:")," ",Object(r.b)("em",{parentName:"p"},"Promise"),"<{ ",Object(r.b)("inlineCode",{parentName:"p"},"optionMarketKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"optionMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"quoteAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"signers"),": ",Object(r.b)("em",{parentName:"p"},"Account"),"[] ; ",Object(r.b)("inlineCode",{parentName:"p"},"transaction"),": ",Object(r.b)("em",{parentName:"p"},"Transaction")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," }",">"),Object(r.b)("h3",{id:"initializemarketinstruction"},"initializeMarketInstruction"),Object(r.b)("p",null,"\u25b8 ",Object(r.b)("strong",{parentName:"p"},"initializeMarketInstruction"),"(",Object(r.b)("inlineCode",{parentName:"p"},"object"),": { ",Object(r.b)("inlineCode",{parentName:"p"},"expirationUnixTimestamp"),": ",Object(r.b)("em",{parentName:"p"},"number")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"fundingAccountKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"optionMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"programId"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"quoteAmountPerContract"),": ",Object(r.b)("em",{parentName:"p"},"number")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"quoteAssetMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"quoteAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAmountPerContract"),": ",Object(r.b)("em",{parentName:"p"},"number")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAssetMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," }): ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"),Object(r.b)("p",null,"Generate the instruction for ",Object(r.b)("inlineCode",{parentName:"p"},"InitializeMarket")),Object(r.b)("p",null,"Instruction to initialize a new option market. Strike price is determined by\n",Object(r.b)("inlineCode",{parentName:"p"},"quote amount per contract / underlying amount per contract")),Object(r.b)("h4",{id:"parameters-1"},"Parameters:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:"left"},"Name"),Object(r.b)("th",{parentName:"tr",align:"left"},"Type"),Object(r.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},"-")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.expirationUnixTimestamp")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"number")),Object(r.b)("td",{parentName:"tr",align:"left"},"unix timestamp when the option market expires")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.fundingAccountKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"The payer account that is funding the SOL for the TX")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"uninitialized SPL Token mint to be used as the Option Token mint for the new option market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.programId")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"the public key for the PsyOptions program")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.quoteAmountPerContract")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"number")),Object(r.b)("td",{parentName:"tr",align:"left"},"amount of quote needed to exercise the option")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.quoteAssetMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"SPL Token mint of the quote asset")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.quoteAssetPoolKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"unintitialized SPL Token account to store locked quote asset")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.underlyingAmountPerContract")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"number")),Object(r.b)("td",{parentName:"tr",align:"left"},"amount of underlying asset needed to mint an Option Token")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.underlyingAssetMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"SPL Token mint of the underlying asset")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.underlyingAssetPoolKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"unintitialized SPL Token account to store locked underlying asset")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"uninitialized SPL Token mint to be used as the Writer Token mint for the new option market")))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Returns:")," ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"),Object(r.b)("hr",null),Object(r.b)("h3",{id:"mintcoveredcallinstruction"},"mintCoveredCallInstruction"),Object(r.b)("p",null,"\u25b8 ",Object(r.b)("strong",{parentName:"p"},"mintCoveredCallInstruction"),"(",Object(r.b)("inlineCode",{parentName:"p"},"object"),": { ",Object(r.b)("inlineCode",{parentName:"p"},"authorityPubkey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"fundingAccountKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"mintedOptionDestKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"optionMarketKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"optionMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"programId"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"size"),": ",Object(r.b)("em",{parentName:"p"},"BN"),"; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAssetSrcKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenDestKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," }): ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"),Object(r.b)("p",null,"Generate the instruction for ",Object(r.b)("inlineCode",{parentName:"p"},"MintCoveredCall")),Object(r.b)("p",null,"Mints an Option Token and Writer Token after successfully transfering\nunderlying asset to the option market's pool."),Object(r.b)("h4",{id:"parameters-2"},"Parameters:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:"left"},"Name"),Object(r.b)("th",{parentName:"tr",align:"left"},"Type"),Object(r.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},"-")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.authorityPubkey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"onwer of the underlyingAssetSrcKey, likely the wallet making the transaction")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.fundingAccountKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"The payer account that is funding the SOL for the TX")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.mintedOptionDestKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key where the option will be minted to")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionMarketKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key for the opton market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the option token mint for the option market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.programId")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"the public key for the PsyOptions program")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.size")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"BN")),Object(r.b)("td",{parentName:"tr",align:"left"},"number of option contracts to mint. Defaults to 1")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.underlyingAssetPoolKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the underlying asset pool for the market, where the asset will be transfered to")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.underlyingAssetSrcKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"account the underlying asset will be transfered from")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.underlyingMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the underlying asset mint")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenDestKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key where the Writer Token will be minted to")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the Writer Token mint for the option market")))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Returns:")," ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"),Object(r.b)("hr",null),Object(r.b)("h3",{id:"exercisecoveredcallinstruction"},"exerciseCoveredCallInstruction"),Object(r.b)("p",null,"\u25b8 ",Object(r.b)("strong",{parentName:"p"},"exerciseCoveredCallInstruction"),"(",Object(r.b)("inlineCode",{parentName:"p"},"object"),": { ",Object(r.b)("inlineCode",{parentName:"p"},"exerciserQuoteAssetAuthorityKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"exerciserQuoteAssetKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"exerciserUnderlyingAssetKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"fundingAccountKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"optionMarketKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"optionMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"optionTokenAuthorityKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"optionTokenKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"programId"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"quoteAssetMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"quoteAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"size"),": ",Object(r.b)("em",{parentName:"p"},"BN"),"; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," }): ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"),Object(r.b)("p",null,"Generate the instruction for ",Object(r.b)("inlineCode",{parentName:"p"},"ExerciseCoveredCall"),"."),Object(r.b)("p",null,"This instruction will burn an Option Token, transfer quote asset\nto the quote asset pool, and transfer underlying asset from the\nunderlying asset pool to the specified account. The amount of underlying asset\ntransfered depends on the underlying amount per contract, aka ",Object(r.b)("inlineCode",{parentName:"p"},"contract size"),".\nThe amount of quote asset transfered depends on the quote amount\nper contract, aka ",Object(r.b)("inlineCode",{parentName:"p"},"contract size * price"),"."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Note this instruction may only be called prior to the option market expiration")),Object(r.b)("h4",{id:"parameters-3"},"Parameters:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:"left"},"Name"),Object(r.b)("th",{parentName:"tr",align:"left"},"Type"),Object(r.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},"-")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.exerciserQuoteAssetAuthorityKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"owner of the exerciserQuoteAssetKey, likely the wallet")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.exerciserQuoteAssetKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key where the quote asset will be transfered from")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.exerciserUnderlyingAssetKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key where the underlying asset will be transfered to")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.fundingAccountKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"The payer account that is funding the SOL for the TX making the transaction")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionMarketKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key for the opton market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the option token mint for the option market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionTokenAuthorityKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"onwer of the optionTokenKey, likely the wallet")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionTokenKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the account where the Option Token will be burned from")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.programId")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"the public key for the PsyOptions program")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.quoteAssetMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key for the quote asset mint")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.quoteAssetPoolKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the quote asset pool for the market, where the asset will be transfered to")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.size")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"BN")),Object(r.b)("td",{parentName:"tr",align:"left"},"number of options to exercise. Defaults to 1")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.underlyingAssetPoolKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the underlying asset pool for the market, where the asset will be transfered from")))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Returns:")," ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"),Object(r.b)("hr",null),Object(r.b)("h3",{id:"closepositioninstruction"},"closePositionInstruction"),Object(r.b)("p",null,"\u25b8 ",Object(r.b)("strong",{parentName:"p"},"closePositionInstruction"),"(",Object(r.b)("inlineCode",{parentName:"p"},"object"),": { ",Object(r.b)("inlineCode",{parentName:"p"},"optionMarketKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"optionMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"optionTokenSrcAuthKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"optionTokenSrcKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"programId"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"size"),": ",Object(r.b)("em",{parentName:"p"},"BN"),"; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAssetDestKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenSourceAuthorityKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenSourceKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," }): ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"),Object(r.b)("p",null,"Generate the instruction for ",Object(r.b)("inlineCode",{parentName:"p"},"ClosePosition"),"."),Object(r.b)("p",null,"This instruction will burn a Writer Token and an Option Token. Upon burning\nthese tokens, the program will transfer the locked underlying asset to the specified\npublic key. The amount of underlying asset transfered depends on the underlying amount\nper contract, aka ",Object(r.b)("inlineCode",{parentName:"p"},"contract size"),"."),Object(r.b)("h4",{id:"parameters-4"},"Parameters:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:"left"},"Name"),Object(r.b)("th",{parentName:"tr",align:"left"},"Type"),Object(r.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},"-")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionMarketKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key for the opton market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the option token mint for the option market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionTokenSrcAuthKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"Onwer of the optionTokenSrcKey, likely the wallet that owns the account")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionTokenSrcKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the account where the Option Token will be burned from")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.programId")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"the public key for the PsyOptions program")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.size")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"BN")),Object(r.b)("td",{parentName:"tr",align:"left"},"number of option & writer tokens to burn to unlock underlying. Defaults to 1")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.underlyingAssetDestKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the account to send the underlying asset to")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.underlyingAssetPoolKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the underlying asset pool for the market, where the asset will be transfered from")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the writer token mint for the option market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenSourceAuthorityKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"owner of the writerTokenSourceKey, likely the wallet making the transaction")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenSourceKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the account where the Writer Token will be burned from")))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Returns:")," ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"),Object(r.b)("hr",null),Object(r.b)("h3",{id:"exchangewritertokenforquoteinstruction"},"exchangeWriterTokenForQuoteInstruction"),Object(r.b)("p",null,"\u25b8 ",Object(r.b)("strong",{parentName:"p"},"exchangeWriterTokenForQuoteInstruction"),"(",Object(r.b)("inlineCode",{parentName:"p"},"object"),": { ",Object(r.b)("inlineCode",{parentName:"p"},"optionMarketKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"programId"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"quoteAssetDestKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"quoteAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"size"),": ",Object(r.b)("em",{parentName:"p"},"BN"),"; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenSourceAuthorityKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenSourceKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," }): ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"),Object(r.b)("p",null,"Generate the instruction for ",Object(r.b)("inlineCode",{parentName:"p"},"ExchangeWriterTokenForQuote")),Object(r.b)("p",null,"This instruction will burn a Writer Token and transfer quote asset to the\nspecified account. The amount of quote asset transfered depends on the quote\namount per contract, aka ",Object(r.b)("inlineCode",{parentName:"p"},"contract size * price"),"."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Note this instruction can only be called after an option has been exercised")),Object(r.b)("h4",{id:"parameters-5"},"Parameters:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:"left"},"Name"),Object(r.b)("th",{parentName:"tr",align:"left"},"Type"),Object(r.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},"-")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionMarketKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key for the opton market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.programId")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"the public key for the PsyOptions program")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.quoteAssetDestKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the account to send the quote asset to")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.quoteAssetPoolKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the quote asset pool for the market, where the asset will be transfered from")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.size")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"BN")),Object(r.b)("td",{parentName:"tr",align:"left"},"number of writer tokens to burn to claim for quote asset. Defaults to 1")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the writer token mint for the option market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenSourceAuthorityKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"owner of the writerTokenSourceKey, likely the wallet making the transaction")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenSourceKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the account where the Writer Token will be burned from")))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Returns:")," ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"),Object(r.b)("hr",null),Object(r.b)("h3",{id:"closepostexpirationcoveredcallinstruction"},"closePostExpirationCoveredCallInstruction"),Object(r.b)("p",null,"\u25b8 ",Object(r.b)("strong",{parentName:"p"},"closePostExpirationCoveredCallInstruction"),"(",Object(r.b)("inlineCode",{parentName:"p"},"object"),": { ",Object(r.b)("inlineCode",{parentName:"p"},"optionMarketKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"programId"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"size"),": ",Object(r.b)("em",{parentName:"p"},"BN"),"; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAssetDestKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"underlyingAssetPoolKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenMintKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenSourceAuthorityKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," ; ",Object(r.b)("inlineCode",{parentName:"p"},"writerTokenSourceKey"),": ",Object(r.b)("em",{parentName:"p"},"PublicKey")," }): ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"),Object(r.b)("p",null,"Generate the instruction for ",Object(r.b)("inlineCode",{parentName:"p"},"ClosePostExpiration")),Object(r.b)("p",null,"This instruction will burn a Writer Token and transfer underlying asset back to the\nspecified account. The amount of underlying asset transfered depends on the underlying\namount per contract, aka ",Object(r.b)("inlineCode",{parentName:"p"},"contract size"),"."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Note this instruction can only be called after the option market has expired")),Object(r.b)("h4",{id:"parameters-6"},"Parameters:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:"left"},"Name"),Object(r.b)("th",{parentName:"tr",align:"left"},"Type"),Object(r.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"object")),Object(r.b)("td",{parentName:"tr",align:"left"},"-")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.optionMarketKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key for the opton market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.programId")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"the public key for the PsyOptions program")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.size")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"BN")),Object(r.b)("td",{parentName:"tr",align:"left"},"number of positions to close (writer tokens to burn). Defaults to 1")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.underlyingAssetDestKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the account to send the underlying asset to")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.underlyingAssetPoolKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the underlying asset pool for the market, where the asset will be transfered from")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenMintKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the writer token mint for the option market")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenSourceAuthorityKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"owner of the writerTokenSourceKey, likely the wallet making the transaction")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("inlineCode",{parentName:"td"},"object.writerTokenSourceKey")),Object(r.b)("td",{parentName:"tr",align:"left"},Object(r.b)("em",{parentName:"td"},"PublicKey")),Object(r.b)("td",{parentName:"tr",align:"left"},"public key of the account where the Writer Token will be burned from")))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Returns:")," ",Object(r.b)("em",{parentName:"p"},"Promise"),"<TransactionInstruction",">"))}p.isMDXComponent=!0},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O}));var a=n(0),b=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,b=function(e,t){if(null==e)return{};var n,a,b={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(b[n]=e[n]);return b}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(b[n]=e[n])}return b}var l=b.a.createContext({}),p=function(e){var t=b.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},m=function(e){var t=p(e.components);return b.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return b.a.createElement(b.a.Fragment,{},t)}},j=b.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,l=o(e,["components","mdxType","originalType","parentName"]),m=p(n),j=a,O=m["".concat(i,".").concat(j)]||m[j]||d[j]||r;return n?b.a.createElement(O,c(c({ref:t},l),{},{components:n})):b.a.createElement(O,c({ref:t},l))}));function O(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=j;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var l=2;l<r;l++)i[l]=n[l];return b.a.createElement.apply(null,i)}return b.a.createElement.apply(null,n)}j.displayName="MDXCreateElement"}}]);