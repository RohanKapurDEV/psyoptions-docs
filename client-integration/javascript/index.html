<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="PsyOptions Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="PsyOptions Blog Atom Feed"><title data-react-helmet="true">Javascript API | PsyOptions</title><meta data-react-helmet="true" property="og:url" content="https://mithraiclabs.github.io/client-integration/javascript"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Javascript API | PsyOptions"><meta data-react-helmet="true" name="description" content="Getting Started"><meta data-react-helmet="true" property="og:description" content="Getting Started"><link data-react-helmet="true" rel="shortcut icon" href="/img/PsyOps.svg"><link data-react-helmet="true" rel="canonical" href="https://mithraiclabs.github.io/client-integration/javascript"><link data-react-helmet="true" rel="alternate" href="https://mithraiclabs.github.io/client-integration/javascript" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://mithraiclabs.github.io/fr/client-integration/javascript" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://mithraiclabs.github.io/zh/client-integration/javascript" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://mithraiclabs.github.io/client-integration/javascript" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.849ef427.css">
<link rel="preload" href="/assets/js/styles.e3457dc0.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.5c99fd2f.js" as="script">
<link rel="preload" href="/assets/js/main.df9511ad.js" as="script">
<link rel="preload" href="/assets/js/1.5ae9c7c2.js" as="script">
<link rel="preload" href="/assets/js/2.6c108b95.js" as="script">
<link rel="preload" href="/assets/js/25.d1ef8f02.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.935df6f2.js" as="script">
<link rel="preload" href="/assets/js/17896441.88d36895.js" as="script">
<link rel="preload" href="/assets/js/c6668db7.c3a55577.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/PsyOps.svg" alt="PsyOptions logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/PsyOps.svg" alt="PsyOptions logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">PsyOptions</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>en</span></span></a><ul class="dropdown__menu"><li><a href="/client-integration/javascript" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">en</a></li><li><a href="/fr/client-integration/javascript" target="_self" rel="noopener noreferrer" class="dropdown__link">fr</a></li><li><a href="/zh/client-integration/javascript" target="_self" rel="noopener noreferrer" class="dropdown__link">zh</a></li></ul></div><a href="https://medium.com/psyoptions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://psyoptions.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">App</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mithraiclabs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--checked react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" checked="" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/PsyOps.svg" alt="PsyOptions logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/PsyOps.svg" alt="PsyOptions logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">PsyOptions</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/client-integration/javascript" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active">en</a></li><li class="menu__list-item"><a href="/fr/client-integration/javascript" target="_self" rel="noopener noreferrer" class="menu__link">fr</a></li><li class="menu__list-item"><a href="/zh/client-integration/javascript" target="_self" rel="noopener noreferrer" class="menu__link">zh</a></li></ul></li><li class="menu__list-item"><a href="https://medium.com/psyoptions" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://psyoptions.io/" target="_blank" rel="noopener noreferrer" class="menu__link">App</a></li><li class="menu__list-item"><a href="https://github.com/mithraiclabs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mission">Mission</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/options-strategies">Options Strategies</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Architecture Design</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture/option-types">Option types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture/call-put">Call vs Put</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Amercian Style Protocol (V1)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/american-v1/how-it-works">How It Works</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Program Integration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/program-integration/quick-start">Quick Start</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Clients</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/client-integration/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">JavaScript</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/client-integration/javascript">API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Rust</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/client-integration/rust/quick-start">Quick Start</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Designers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fonts-and-styles">Fonts and Styles</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Devnet Testing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/devnet-testing/setup-wallet">Wallet Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/devnet-testing/what-to-test">What to Test</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/devnet-testing/beta-testing">Beta Testing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">PSY Token</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/psy-token">token-incentives</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/faq">FAQ</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Javascript API</h1></header><div class="markdown"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getting-started"></a>Getting Started<a class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">yarn add @mithraic-labs/psyoptions</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>More docs will be coming soon on how to use the following instructions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="functions"></a>Functions<a class="hash-link" href="#functions" title="Direct link to heading">#</a></h3><ul><li><a href="#initializeaccountsformarket">initializeAccountsForMarket</a></li><li><a href="#initializemarketinstruction">initializeMarketInstruction</a></li><li><a href="#mintcoveredcallinstruction">mintCoveredCallInstruction</a></li><li><a href="#exercisecoveredcallinstruction">exerciseCoveredCallInstruction</a></li><li><a href="#exchangewritertokenforquoteinstruction">exchangeWriterTokenForQuoteInstruction</a></li><li><a href="#closepositioninstruction">closePositionInstruction</a></li><li><a href="#closepostexpirationcoveredcallinstruction">closePostExpirationCoveredCallInstruction</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="functions-1"></a>Functions<a class="hash-link" href="#functions-1" title="Direct link to heading">#</a></h2><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="initializeaccountsformarket"></a>initializeAccountsForMarket<a class="hash-link" href="#initializeaccountsformarket" title="Direct link to heading">#</a></h3><p>â–¸ <strong>initializeAccountsForMarket</strong>(<code>object</code>: { <code>connection</code>: <em>Connection</em> ; <code>payer</code>: <em>Account</em> ; <code>programId</code>: <em>string</em> | <em>PublicKey</em> }): <em>Promise</em>&lt;{ <code>optionMintKey</code>: <em>PublicKey</em> ; <code>quoteAssetPoolKey</code>: <em>PublicKey</em> ; <code>signers</code>: <em>Account</em>[] ; <code>transaction</code>: <em>Transaction</em> ; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> ; <code>writerTokenMintKey</code>: <em>PublicKey</em> }&gt;</p><p>Generate and initialize the Accounts to be used for the new option market.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters"></a>Parameters:<a class="hash-link" href="#parameters" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.connection</code></td><td align="left"><em>Connection</em></td><td align="left"></td></tr><tr><td align="left"><code>object.payer</code></td><td align="left"><em>Account</em></td><td align="left">Account to pay for the creation of these new accounts</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>string</em> | <em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;{ <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>optionMintKey</code>: <em>PublicKey</em> ; <code>quoteAssetPoolKey</code>: <em>PublicKey</em> ; <code>signers</code>: <em>Account</em>[] ; <code>transaction</code>: <em>Transaction</em> ; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> ; <code>writerTokenMintKey</code>: <em>PublicKey</em> }&gt;</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="initializemarketinstruction"></a>initializeMarketInstruction<a class="hash-link" href="#initializemarketinstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>initializeMarketInstruction</strong>(<code>object</code>: { <code>expirationUnixTimestamp</code>: <em>number</em> ; <code>fundingAccountKey</code>: <em>PublicKey</em> ; <code>optionMintKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>quoteAmountPerContract</code>: <em>number</em> ; <code>quoteAssetMintKey</code>: <em>PublicKey</em> ; <code>quoteAssetPoolKey</code>: <em>PublicKey</em> ; <code>underlyingAmountPerContract</code>: <em>number</em> ; <code>underlyingAssetMintKey</code>: <em>PublicKey</em> ; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> ; <code>writerTokenMintKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>InitializeMarket</code></p><p>Instruction to initialize a new option market. Strike price is determined by
<code>quote amount per contract / underlying amount per contract</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-1"></a>Parameters:<a class="hash-link" href="#parameters-1" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.expirationUnixTimestamp</code></td><td align="left"><em>number</em></td><td align="left">unix timestamp when the option market expires</td></tr><tr><td align="left"><code>object.fundingAccountKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">The payer account that is funding the SOL for the TX</td></tr><tr><td align="left"><code>object.optionMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">uninitialized SPL Token mint to be used as the Option Token mint for the new option market</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.quoteAmountPerContract</code></td><td align="left"><em>number</em></td><td align="left">amount of quote needed to exercise the option</td></tr><tr><td align="left"><code>object.quoteAssetMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">SPL Token mint of the quote asset</td></tr><tr><td align="left"><code>object.quoteAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">unintitialized SPL Token account to store locked quote asset</td></tr><tr><td align="left"><code>object.underlyingAmountPerContract</code></td><td align="left"><em>number</em></td><td align="left">amount of underlying asset needed to mint an Option Token</td></tr><tr><td align="left"><code>object.underlyingAssetMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">SPL Token mint of the underlying asset</td></tr><tr><td align="left"><code>object.underlyingAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">unintitialized SPL Token account to store locked underlying asset</td></tr><tr><td align="left"><code>object.writerTokenMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">uninitialized SPL Token mint to be used as the Writer Token mint for the new option market</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mintcoveredcallinstruction"></a>mintCoveredCallInstruction<a class="hash-link" href="#mintcoveredcallinstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>mintCoveredCallInstruction</strong>(<code>object</code>: { <code>authorityPubkey</code>: <em>PublicKey</em> ; <code>fundingAccountKey</code>: <em>PublicKey</em> ; <code>mintedOptionDestKey</code>: <em>PublicKey</em> ; <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>optionMintKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>size</code>: <em>BN</em>; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> ; <code>underlyingAssetSrcKey</code>: <em>PublicKey</em> ; <code>underlyingMintKey</code>: <em>PublicKey</em> ; <code>writerTokenDestKey</code>: <em>PublicKey</em> ; <code>writerTokenMintKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>MintCoveredCall</code></p><p>Mints an Option Token and Writer Token after successfully transfering
underlying asset to the option market&#x27;s pool.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-2"></a>Parameters:<a class="hash-link" href="#parameters-2" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.authorityPubkey</code></td><td align="left"><em>PublicKey</em></td><td align="left">onwer of the underlyingAssetSrcKey, likely the wallet making the transaction</td></tr><tr><td align="left"><code>object.fundingAccountKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">The payer account that is funding the SOL for the TX</td></tr><tr><td align="left"><code>object.mintedOptionDestKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key where the option will be minted to</td></tr><tr><td align="left"><code>object.optionMarketKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key for the opton market</td></tr><tr><td align="left"><code>object.optionMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the option token mint for the option market</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.size</code></td><td align="left"><em>BN</em></td><td align="left">number of option contracts to mint. Defaults to 1</td></tr><tr><td align="left"><code>object.underlyingAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the underlying asset pool for the market, where the asset will be transfered to</td></tr><tr><td align="left"><code>object.underlyingAssetSrcKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">account the underlying asset will be transfered from</td></tr><tr><td align="left"><code>object.underlyingMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the underlying asset mint</td></tr><tr><td align="left"><code>object.writerTokenDestKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key where the Writer Token will be minted to</td></tr><tr><td align="left"><code>object.writerTokenMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the Writer Token mint for the option market</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="exercisecoveredcallinstruction"></a>exerciseCoveredCallInstruction<a class="hash-link" href="#exercisecoveredcallinstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>exerciseCoveredCallInstruction</strong>(<code>object</code>: { <code>exerciserQuoteAssetAuthorityKey</code>: <em>PublicKey</em> ; <code>exerciserQuoteAssetKey</code>: <em>PublicKey</em> ; <code>exerciserUnderlyingAssetKey</code>: <em>PublicKey</em> ; <code>fundingAccountKey</code>: <em>PublicKey</em> ; <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>optionMintKey</code>: <em>PublicKey</em> ; <code>optionTokenAuthorityKey</code>: <em>PublicKey</em> ; <code>optionTokenKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>quoteAssetMintKey</code>: <em>PublicKey</em> ; <code>quoteAssetPoolKey</code>: <em>PublicKey</em> ; <code>size</code>: <em>BN</em>; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>ExerciseCoveredCall</code>.</p><p>This instruction will burn an Option Token, transfer quote asset
to the quote asset pool, and transfer underlying asset from the
underlying asset pool to the specified account. The amount of underlying asset
transfered depends on the underlying amount per contract, aka <code>contract size</code>.
The amount of quote asset transfered depends on the quote amount
per contract, aka <code>contract size * price</code>.</p><p><strong>Note this instruction may only be called prior to the option market expiration</strong></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-3"></a>Parameters:<a class="hash-link" href="#parameters-3" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.exerciserQuoteAssetAuthorityKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">owner of the exerciserQuoteAssetKey, likely the wallet</td></tr><tr><td align="left"><code>object.exerciserQuoteAssetKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key where the quote asset will be transfered from</td></tr><tr><td align="left"><code>object.exerciserUnderlyingAssetKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key where the underlying asset will be transfered to</td></tr><tr><td align="left"><code>object.fundingAccountKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">The payer account that is funding the SOL for the TX making the transaction</td></tr><tr><td align="left"><code>object.optionMarketKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key for the opton market</td></tr><tr><td align="left"><code>object.optionMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the option token mint for the option market</td></tr><tr><td align="left"><code>object.optionTokenAuthorityKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">onwer of the optionTokenKey, likely the wallet</td></tr><tr><td align="left"><code>object.optionTokenKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account where the Option Token will be burned from</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.quoteAssetMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key for the quote asset mint</td></tr><tr><td align="left"><code>object.quoteAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the quote asset pool for the market, where the asset will be transfered to</td></tr><tr><td align="left"><code>object.size</code></td><td align="left"><em>BN</em></td><td align="left">number of options to exercise. Defaults to 1</td></tr><tr><td align="left"><code>object.underlyingAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the underlying asset pool for the market, where the asset will be transfered from</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="closepositioninstruction"></a>closePositionInstruction<a class="hash-link" href="#closepositioninstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>closePositionInstruction</strong>(<code>object</code>: { <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>optionMintKey</code>: <em>PublicKey</em> ; <code>optionTokenSrcAuthKey</code>: <em>PublicKey</em> ; <code>optionTokenSrcKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>size</code>: <em>BN</em>; <code>underlyingAssetDestKey</code>: <em>PublicKey</em> ; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> ; <code>writerTokenMintKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceAuthorityKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>ClosePosition</code>.</p><p>This instruction will burn a Writer Token and an Option Token. Upon burning
these tokens, the program will transfer the locked underlying asset to the specified
public key. The amount of underlying asset transfered depends on the underlying amount
per contract, aka <code>contract size</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-4"></a>Parameters:<a class="hash-link" href="#parameters-4" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.optionMarketKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key for the opton market</td></tr><tr><td align="left"><code>object.optionMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the option token mint for the option market</td></tr><tr><td align="left"><code>object.optionTokenSrcAuthKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">Onwer of the optionTokenSrcKey, likely the wallet that owns the account</td></tr><tr><td align="left"><code>object.optionTokenSrcKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account where the Option Token will be burned from</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.size</code></td><td align="left"><em>BN</em></td><td align="left">number of option &amp; writer tokens to burn to unlock underlying. Defaults to 1</td></tr><tr><td align="left"><code>object.underlyingAssetDestKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account to send the underlying asset to</td></tr><tr><td align="left"><code>object.underlyingAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the underlying asset pool for the market, where the asset will be transfered from</td></tr><tr><td align="left"><code>object.writerTokenMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the writer token mint for the option market</td></tr><tr><td align="left"><code>object.writerTokenSourceAuthorityKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">owner of the writerTokenSourceKey, likely the wallet making the transaction</td></tr><tr><td align="left"><code>object.writerTokenSourceKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account where the Writer Token will be burned from</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="exchangewritertokenforquoteinstruction"></a>exchangeWriterTokenForQuoteInstruction<a class="hash-link" href="#exchangewritertokenforquoteinstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>exchangeWriterTokenForQuoteInstruction</strong>(<code>object</code>: { <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>quoteAssetDestKey</code>: <em>PublicKey</em> ; <code>quoteAssetPoolKey</code>: <em>PublicKey</em> ; <code>size</code>: <em>BN</em>; <code>writerTokenMintKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceAuthorityKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>ExchangeWriterTokenForQuote</code></p><p>This instruction will burn a Writer Token and transfer quote asset to the
specified account. The amount of quote asset transfered depends on the quote
amount per contract, aka <code>contract size * price</code>.</p><p><strong>Note this instruction can only be called after an option has been exercised</strong></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-5"></a>Parameters:<a class="hash-link" href="#parameters-5" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.optionMarketKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key for the opton market</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.quoteAssetDestKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account to send the quote asset to</td></tr><tr><td align="left"><code>object.quoteAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the quote asset pool for the market, where the asset will be transfered from</td></tr><tr><td align="left"><code>object.size</code></td><td align="left"><em>BN</em></td><td align="left">number of writer tokens to burn to claim for quote asset. Defaults to 1</td></tr><tr><td align="left"><code>object.writerTokenMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the writer token mint for the option market</td></tr><tr><td align="left"><code>object.writerTokenSourceAuthorityKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">owner of the writerTokenSourceKey, likely the wallet making the transaction</td></tr><tr><td align="left"><code>object.writerTokenSourceKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account where the Writer Token will be burned from</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="closepostexpirationcoveredcallinstruction"></a>closePostExpirationCoveredCallInstruction<a class="hash-link" href="#closepostexpirationcoveredcallinstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>closePostExpirationCoveredCallInstruction</strong>(<code>object</code>: { <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>size</code>: <em>BN</em>; <code>underlyingAssetDestKey</code>: <em>PublicKey</em> ; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> ; <code>writerTokenMintKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceAuthorityKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>ClosePostExpiration</code></p><p>This instruction will burn a Writer Token and transfer underlying asset back to the
specified account. The amount of underlying asset transfered depends on the underlying
amount per contract, aka <code>contract size</code>.</p><p><strong>Note this instruction can only be called after the option market has expired</strong></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-6"></a>Parameters:<a class="hash-link" href="#parameters-6" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.optionMarketKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key for the opton market</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.size</code></td><td align="left"><em>BN</em></td><td align="left">number of positions to close (writer tokens to burn). Defaults to 1</td></tr><tr><td align="left"><code>object.underlyingAssetDestKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account to send the underlying asset to</td></tr><tr><td align="left"><code>object.underlyingAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the underlying asset pool for the market, where the asset will be transfered from</td></tr><tr><td align="left"><code>object.writerTokenMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the writer token mint for the option market</td></tr><tr><td align="left"><code>object.writerTokenSourceAuthorityKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">owner of the writerTokenSourceKey, likely the wallet making the transaction</td></tr><tr><td align="left"><code>object.writerTokenSourceKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account where the Writer Token will be burned from</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/mithraiclabs/psyoptions-docs/tree/master/docs/javascript-api.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/client-integration/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Client Integration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/client-integration/rust/quick-start"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Rust Quick Start Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link">Getting Started</a></li><li><a href="#functions" class="table-of-contents__link">Functions</a></li><li><a href="#functions-1" class="table-of-contents__link">Functions</a><ul><li><a href="#initializeaccountsformarket" class="table-of-contents__link">initializeAccountsForMarket</a></li><li><a href="#initializemarketinstruction" class="table-of-contents__link">initializeMarketInstruction</a></li><li><a href="#mintcoveredcallinstruction" class="table-of-contents__link">mintCoveredCallInstruction</a></li><li><a href="#exercisecoveredcallinstruction" class="table-of-contents__link">exerciseCoveredCallInstruction</a></li><li><a href="#closepositioninstruction" class="table-of-contents__link">closePositionInstruction</a></li><li><a href="#exchangewritertokenforquoteinstruction" class="table-of-contents__link">exchangeWriterTokenForQuoteInstruction</a></li><li><a href="#closepostexpirationcoveredcallinstruction" class="table-of-contents__link">closePostExpirationCoveredCallInstruction</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://t.co/T28cJeQvS7?amp=1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/PsyOptions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://t.co/SFP8AZH7kv?amp=1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://medium.com/psyoptions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/mithraiclabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 PsyOptions. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/styles.e3457dc0.js"></script>
<script src="/assets/js/runtime~main.5c99fd2f.js"></script>
<script src="/assets/js/main.df9511ad.js"></script>
<script src="/assets/js/1.5ae9c7c2.js"></script>
<script src="/assets/js/2.6c108b95.js"></script>
<script src="/assets/js/25.d1ef8f02.js"></script>
<script src="/assets/js/935f2afb.935df6f2.js"></script>
<script src="/assets/js/17896441.88d36895.js"></script>
<script src="/assets/js/c6668db7.c3a55577.js"></script>
</body>
</html>