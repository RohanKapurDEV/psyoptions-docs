(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{146:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/initialize_market_page-856da4b58eade2e35e691ca0804c7f2a.png"},82:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return u})),n.d(t,"default",(function(){return l}));var r=n(3),o=n(7),a=(n(0),n(96)),i={id:"american-how-it-works",title:"Protocole am\xe9ricain V1 Comment \xe7a marche",sidebar_label:"Comment \xe7a marche",slug:"/american-v1/how-it-works"},s={unversionedId:"american-how-it-works",id:"american-how-it-works",isDocsHomePage:!1,title:"Protocole am\xe9ricain V1 Comment \xe7a marche",description:"Pour vraiment comprendre comment fonctionne le protocole et la plate-forme, il faut comprendre ce qui se passe sous le capot. Ici, nous ferons de notre mieux pour d\xe9composer chaque interaction qu'une entit\xe9 peut faire avec le protocole et ce qui se passe.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/how-it-works.md",slug:"/american-v1/how-it-works",permalink:"/fr/american-v1/how-it-works",editUrl:"https://github.com/mithraiclabs/psyoptions-docs/tree/master/docs/how-it-works.md",version:"current",sidebar_label:"Comment \xe7a marche",sidebar:"someSidebar",previous:{title:"Appel vs Put",permalink:"/fr/architecture/call-put"},next:{title:"Int\xe9gration de programme",permalink:"/fr/program-integration/quick-start"}},u=[{value:"Initialiser le march\xe9 des nouvelles options",id:"initialiser-le-march\xe9-des-nouvelles-options",children:[]},{value:"M\xe9moriser une option",id:"m\xe9moriser-une-option",children:[]},{value:"Exercer un contrat",id:"exercer-un-contrat",children:[]},{value:"Extraction d&#39;actifs \xe0 partir d&#39;un contrat exerc\xe9",id:"extraction-dactifs-\xe0-partir-dun-contrat-exerc\xe9",children:[]},{value:"R\xe9cup\xe9ration de votre dos sous-jacent apr\xe8s expiration",id:"r\xe9cup\xe9ration-de-votre-dos-sous-jacent-apr\xe8s-expiration",children:[]},{value:"Fermeture d&#39;une pr\xe9-expiration de position",id:"fermeture-dune-pr\xe9-expiration-de-position",children:[]}],c={toc:u};function l(e){var t=e.components,i=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},c,i,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Pour vraiment comprendre comment fonctionne le protocole et la plate-forme, il faut comprendre ce qui se passe sous le capot. Ici, nous ferons de notre mieux pour d\xe9composer chaque interaction qu'une entit\xe9 peut faire avec le protocole et ce qui se passe."),Object(a.b)("h2",{id:"initialiser-le-march\xe9-des-nouvelles-options"},"Initialiser le march\xe9 des nouvelles options"),Object(a.b)("p",null,Object(a.b)("img",{alt:"initialiser le march\xe9",src:n(146).default})),Object(a.b)("p",null,"Le protocole est con\xe7u pour \xeatre une primitive, donc il fait tr\xe8s peu d'hypoth\xe8ses sur les options, comment elles doivent \xeatre \xe9chang\xe9es, tarifi\xe9es, etc. Le protocole lui-m\xeame, ne fait pas non plus d'hypoth\xe8ses sur les actifs qui devraient avoir des options et lesquelles ne devraient pas. Il a \xe9t\xe9 construit avec divers cas d'utilisation dans l'esprit de , comme \xe9crire des contrats sur des NFTs, des actions tokenis\xe9es de propri\xe9t\xe9, des actions jet\xe9es. .anything qui peut \xeatre repr\xe9sent\xe9 comme un jeton SPL peut avoir un march\xe9 d'options. Y aura-t-il de la liquidit\xe9 sur ces march\xe9s est un sujet pour une autre discussion ;)."),Object(a.b)("p",null,"Les march\xe9s d'options eux-m\xeames sont totalement ouverts et sans permission. If there are a pair of assets you want to write options on, you can create that market! Pour ce faire, vous devez utiliser les instructions ",Object(a.b)("inlineCode",{parentName:"p"},"InitializeMarket"),". Chaque march\xe9 est gouvern\xe9 par des param\xe8tres sp\xe9cifiques qui d\xe9terminent sa fongibilit\xe9. Ces param\xe8tres incluent:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-Rust"},"Pub struct OptionMarket {\n...\n    /// L'adresse du jeton SPL qui se trouve dans la r\xe9serve du programme quand une option est \xe9crite\n    pub underlying_asset_mint: Pubkey,\n    /// L'adresse du jeton SPL qui d\xe9nomme le prix de lev\xe9e\n    quote_asset_ment: Pubkey,\n    /// Le montant de l'**actif sous-jacent** qui d\xe9rive une seule option\n    pub underlying_amount_per_contract : u64,\n    /// Le montant de **quote-actif** qui doit \xeatre transf\xe9r\xe9 lorsqu'une option est exerc\xe9e\n    guillemet pub : u64,\n    /// L'horodatage Unix **en secondes** o\xf9 les contrats sur ce march\xe9 expirent\n    expiration_unix_timestamp: UnixTimestamp,\n...\n}\n")),Object(a.b)("p",null,"Il est important de noter que le protocole utilise une approche d\xe9terministe des march\xe9s, bas\xe9 sur les param\xe8tres uniques, donc il ne peut jamais y avoir deux du m\xeame march\xe9 exact. Il s'agissait d'une d\xe9cision maladroite de V1 de r\xe9duire les risques de fragmentation des liquidit\xe9s."),Object(a.b)("p",null,"Cr\xe9er un nouveau march\xe9 est extr\xeamement bon march\xe9 et facile ! Lorsqu'un nouveau march\xe9 est initialis\xe9, quelques choses se produisent. Les plus importants sont la cr\xe9ation du ",Object(a.b)("strong",{parentName:"p"},"pool d'actifs sous-jacents")," et du pool d'actifs de ",Object(a.b)("strong",{parentName:"p"},"cote")," pour ce march\xe9. Ces piscines sont uniques \xe0 chaque march\xe9 individuel et sont la propri\xe9t\xe9 de chacun. Quand quelqu'un frappe un contrat d'option, ses garanties sont stock\xe9es dans ces bassins, plus de \xe0 ce moment-l\xe0."),Object(a.b)("h2",{id:"m\xe9moriser-une-option"},"M\xe9moriser une option"),Object(a.b)("p",null,"Il ne fait aucun doute que l'instruction la plus importante et la plus largement utilis\xe9e du protocole. Lorsque vous voulez toucher un contrat pour un march\xe9 donn\xe9, vous avez besoin de l'instruction ",Object(a.b)("inlineCode",{parentName:"p"},"MintCoveredCall"),". Il est ",Object(a.b)("strong",{parentName:"p"},"extr\xeamement important de noter")," que bien que cette instruction contienne la phrase ",Object(a.b)("em",{parentName:"p"},"Appel couvert")," dans le protocole V1, tous les contrats peuvent \xeatre consid\xe9r\xe9s comme des appels couverts. Les PUTs sont simplement les receveurs d'un CALL, et tous les march\xe9s de V1 requi\xe8rent 100% de garantie \xe0 l'avance. Plus d'informations peuvent \xeatre lues ",Object(a.b)("a",{parentName:"p",href:"/fr/architecture/call-put"},"ici"),"."),Object(a.b)("p",null,"Pour toucher un contrat, le contractant doit mettre \xe0 100 % du ",Object(a.b)("inlineCode",{parentName:"p"},"underlying_amount_per_contract")," plus des frais de 5 bps. This small fee will go to the PsyOptions treasury and will be adjustable (or removable) via governance. Le total des actifs sous-jacents requis pour conclure un contrat est donc :"),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"underlying_assets_required = underlying_amount_per_contract + (underlying_amount_per_contract * 0.0005)")),Object(a.b)("p",null,"Ces actifs unserlying sont ensuite stock\xe9s dans le ",Object(a.b)("em",{parentName:"p"},"pool d'actifs sous-jacents")," des march\xe9s d'options. Si le transfert vers le pool r\xe9ussit (i.e. assez de sous-jacent a \xe9t\xe9 publi\xe9), puis le protocole met \xe0 jour l'utilisateur 2 jetons, le ",Object(a.b)("strong",{parentName:"p"},"OptionToken")," et le ",Object(a.b)("strong",{parentName:"p"},"WriterToken"),"."),Object(a.b)("p",null,"Le ",Object(a.b)("strong",{parentName:"p"},"OptionToken est le contrat r\xe9el"),", qui donne au d\xe9tenteur ",Object(a.b)("em",{parentName:"p"},"le droit mais pas l'obligation de swap les actifs cot\xe9s pour les actifs sous-jacents au prix d'exercice convenu"),". Le OptionToken est un jeton SPL, donc il peut \xeatre transf\xe9r\xe9 ou \xe9chang\xe9 sur n'importe quel lieu qui a le support du jeton SPL."),Object(a.b)("p",null,"Le ",Object(a.b)("strong",{parentName:"p"},"WriterToken")," indique que le titulaire est abr\xe9g\xe9 de l'option ou a \xe9crit le contrat. Laisse s\xe9parer cette d\xe9claration en termes plus logiques. \xc9tant donn\xe9 qu'il s'agit d'un contrat de style am\xe9ricain le titulaire de OptionToken peut exercer \xe0 tout moment avant l'expiration. Donc, \xe0 n'importe quel moment (avant ou apr\xe8s l'expiration) le WriterToken donne au d\xe9tenteur la possibilit\xe9 de r\xe9clamer le ",Object(a.b)("inlineCode",{parentName:"p"},"quote_amount_per_contract")," si n'importe qui exerce et que le pool d'actifs de cotation contient assez de solde. Apr\xe8s l'expiration du poste, le WriterToken donne au d\xe9tenteur la possibilit\xe9 de revendiquer le ",Object(a.b)("inlineCode",{parentName:"p"},"sous-jacent_amount_per_contract")," du sous-groupe d'actifs."),Object(a.b)("p",null,"Ainsi, pour g\xe9n\xe9rer des rendements \xe0 partir de la r\xe9daction d'un contrat, vous vendriez le OptionToken. Cela pourrait \xeatre fait en OTC et transf\xe9r\xe9, sur un march\xe9 Seurm, ou sur tout autre lieu qui cr\xe9e et qui \xe9change contre les SPL d'un march\xe9."),Object(a.b)("h2",{id:"exercer-un-contrat"},"Exercer un contrat"),Object(a.b)("p",null,"Avec le OptionToken, nous avons la possibilit\xe9 d\u2019exercer le contrat avec l\u2019utilisation de l\u2019instruction ",Object(a.b)("inlineCode",{parentName:"p"},"ExerciseCoveredCall"),". Pour exercer nous devons poster le OptionToken tenu et le ",Object(a.b)("inlineCode",{parentName:"p"},"quote_amount_per_contract")," plus un frais de 5bps. Cette petite somme sera vers\xe9e au Tr\xe9sor de PsyOptions et sera ajustable (ou amovible) par la gouvernance. Donc l'actif du devis total qui doit \xeatre publi\xe9 est"),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"quote_assets_required = quote_amount_per_contract + (quote_amount_per_contract * 0.0005)")),Object(a.b)("p",null,"Avec le montant correct affich\xe9, le protocole br\xfble le OptionToken, transf\xe8re ",Object(a.b)("inlineCode",{parentName:"p"},"quote_amount_per_contract")," au pool d'actifs de cotation du march\xe9, et transf\xe8re ",Object(a.b)("inlineCode",{parentName:"p"},"underlying_amount_per_contract")," \xe0 l'adresse de l'exercice."),Object(a.b)("p",null,"Maintenant que quelqu'un a exerc\xe9, nous allons voir comment un auteur de contrat peut r\xe9clamer ces actifs."),Object(a.b)("h2",{id:"extraction-dactifs-\xe0-partir-dun-contrat-exerc\xe9"},"Extraction d'actifs \xe0 partir d'un contrat exerc\xe9"),Object(a.b)("p",null,"Les th\xe9ories \xe9conomiques ont prouv\xe9 qu\u2019il n\u2019est pas avantageux d\u2019exercer un contrat plus t\xf4t. Mais ce n'est pas TradFi. La composabilit\xe9 de PsyOptions American V1 fournit de nombreux cas d'utilisation en dehors du trading de la pure volatilit\xe9, de la couverture de portefeuille, etc. o\xf9 l'exercice pr\xe9coce arrivera tr\xe8s certainement . Prenons le protocole XYZ qui ex\xe9cute un programme d'extraction de liquidit\xe9s qui a encourag\xe9 de nouveaux fournisseurs de liquidit\xe9s avec des contrats At The Money (ATM) qui expirent dans 10 ans. Tant que le projet XYZ continue de cro\xeetre, les d\xe9tenteurs de ce contrat s'exerceront tr\xe8s t\xf4t."),Object(a.b)("p",null,"Maintenant, lorsque cet exercice se produit, le r\xe9dacteur du contrat est en mesure de r\xe9clamer les actifs de cotation d\xe8s qu'ils sont disponibles. Pour ce faire, le contractant doit utiliser les instructions ",Object(a.b)("inlineCode",{parentName:"p"},"ExchangeWriterTokenForQuote"),". The user must post the WriterToken. le protocole va graver le WriterToken et transf\xe9rer le ",Object(a.b)("inlineCode",{parentName:"p"},"quote_amount_per_contract")," au portefeuille de l'\xe9crivain."),Object(a.b)("p",null,"Quelques \xe9l\xe9ments \xe0 noter. Tout d'abord, cette instruction peut \xeatre appel\xe9e \xe0 tout moment dans le temps, tant que il y a suffisamment d'actifs de cotation dans le pool d'actifs de cotation. Deuxi\xe8mement, cette instruction agit sur un ",Object(a.b)("strong",{parentName:"p"},"premier arriv\xe9, premier servi, base"),". Tous les OptionTokens et WriterTokens pour un march\xe9 donn\xe9 sont respectivement fongibles (i.e. N'importe quel OptionToken est le m\xeame qu'un autre pour le march\xe9 donn\xe9. Il en va de m\xeame pour le WriterToken.). D\xe8s que quelqu'un exerce un contrat d'option ",Object(a.b)("strong",{parentName:"p"},"toute personne d\xe9tenant un jeton sur ce march\xe9 a une r\xe9clamation sur les actifs de cotation"),"."),Object(a.b)("h2",{id:"r\xe9cup\xe9ration-de-votre-dos-sous-jacent-apr\xe8s-expiration"},"R\xe9cup\xe9ration de votre dos sous-jacent apr\xe8s expiration"),Object(a.b)("p",null,"Apr\xe8s l'expiration d'un contrat, un auteur de contrat a une r\xe9clamation sur ses actifs sous-jacents d'origine qu'il a post\xe9e pour \xe9crire le contrat. ",Object(a.b)("strong",{parentName:"p"},"Seulement apr\u010ds l'expiration")," un WriterToken peut envoyer le protocole \u0155 br\xfbler en \xe9change du ",Object(a.b)("inlineCode",{parentName:"p"},"souslying_amount_per_contract"),". Ceci est fait par le biais de l'instruction ",Object(a.b)("inlineCode",{parentName:"p"},"ClosePostExpiration"),"."),Object(a.b)("h2",{id:"fermeture-dune-pr\xe9-expiration-de-position"},"Fermeture d'une pr\xe9-expiration de position"),Object(a.b)("p",null,"Que se passe-t-il si vous avez \xe9crit trop de contrats \xe0 la fois? Ou votre exposition a chang\xe9 et vous avez besoin de pour fermer votre position ? C'est l\xe0 que vient l'instruction ",Object(a.b)("inlineCode",{parentName:"p"},"ClosePosition"),". Cette instruction ",Object(a.b)("strong",{parentName:"p"},"n\xe9cessite que vous ayez \xe0 la fois le OptionToken et le WriterToken"),". \xc0 tout moment (avant ou apr\xe8s l'expiration de ) si un portefeuille appelle cette instruction avec le pr\xe9r\xe9glage de la paire de jetons correcte, il recevra le ",Object(a.b)("inlineCode",{parentName:"p"},"sous-traitant_amount_per_contract"),". Le protocole v\xe9rifie et br\xfble \xe0 la fois les jetons et puis transf\xe8re les actifs sous-jacents du pool vers le portefeuille."),Object(a.b)("p",null,"If you sold the OptionToken and would like to close your position, you will have to go to a venue that trades/sells the correct OptionToken and purchase one there."))}l.isMDXComponent=!0},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=o.a.createContext({}),l=function(e){var t=o.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=l(e.components);return o.a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),p=l(n),m=r,b=p["".concat(i,".").concat(m)]||p[m]||d[m]||a;return n?o.a.createElement(b,s(s({ref:t},c),{},{components:n})):o.a.createElement(b,s({ref:t},c))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);